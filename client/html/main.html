<div class="d-flex justify-content-center h-100">
  <h1>Smartphone as a security token</h1>

  <h2>To be filled.</h2>

  <button id="logoutBtn" type="button" class="btn btn-default">Logout</button>
</div>

<div>
  <br /><br /><br />
  <h2>File Upload</h2>
  Select file
  <input type="file" id="filename" />
  <br />
  <input type="button" value="Upload" onclick="sendFile()" />

  <br /><br /><br />
  <input type="button" value="Connect to Smarpthone" onclick="connectChatServer()" />
  <h2>Request</h2>
  <input type="text" id="request1" placeholder="Req 1st Arg"/>
  <input type="text" id="request2" placeholder="Req 2nd Arg"/>
  <br />
  <input type="button" value="Send Request" onclick="sendRequest()" />
</div>

<script>
  $('#logoutBtn').click(function(e) {
    logout();
    e.preventDefault();
  });

  //Upload FIles to Smartphone
  var ws;

  function connectChatServer() {
    ws = new WebSocket('ws://127.0.0.1:4444');

    ws.onopen = function() {
      alert('Connected.');
    };

    ws.onmessage = function(evt) {
      alert(evt.data);
    };

    ws.onclose = function() {
      alert('Connection is closed...');
    };
    ws.onerror = function(e) {
      alert(e.msg);
    };
  }

  function sendRequest() {
    var req_1st_arg = document.getElementById('request1').value;
    var req_2nd_arg = document.getElementById('request2').value;

    var  req = {
      arg1: req_1st_arg,
      arg2: req_2nd_arg
    };

    ws.send(JSON.stringify(req));
  }

</script>
